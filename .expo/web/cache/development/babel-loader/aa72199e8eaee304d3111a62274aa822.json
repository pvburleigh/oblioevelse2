{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/philipvanburleigh/Desktop/oblioevelse2/components/UniversititesList.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport firebase from \"firebase\";\nimport UniversityAddForm from \"./UniversityAddForm\";\nimport EducationAddForm from \"./EducationAddForm\";\nexport default function UniversitiesList(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      universities = _useState2[0],\n      setUniversities = _useState2[1];\n\n  useEffect(function () {\n    if (!universities) {\n      firebase.database().ref('/Universities').on('value', function (snapshot) {\n        setUniversities(snapshot.val());\n      });\n    }\n  }, []);\n\n  if (!universities) {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }\n    }, \"Opret et universitet:\"), React.createElement(UniversityAddForm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  var handleSelectCar = function handleSelectCar(id) {\n    var university;\n    return _regeneratorRuntime.async(function handleSelectCar$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            university = Object.entries(universities).find(function (university) {\n              return university[0] === id;\n            });\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(navigation.navigate('Universities Educations', {\n              university: university\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var universitiesArray = Object.values(universities);\n  var universitiesKeys = Object.keys(universities);\n  return React.createElement(SafeAreaView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: universitiesArray,\n    keyExtractor: function keyExtractor(item, index) {\n      return universitiesKeys[index];\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n      return React.createElement(TouchableOpacity, {\n        style: styles.container,\n        onPress: function onPress() {\n          return handleSelectCar(universitiesKeys[index]);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }\n      }, item.name));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), React.createElement(UniversityAddForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderWidth: 1,\n    borderRadius: 10,\n    margin: 5,\n    padding: 5,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/philipvanburleigh/Desktop/oblioevelse2/components/UniversititesList.js"],"names":["React","useState","useEffect","firebase","UniversityAddForm","EducationAddForm","UniversitiesList","navigation","universities","setUniversities","database","ref","on","snapshot","val","handleSelectCar","id","university","Object","entries","find","navigate","universitiesArray","values","universitiesKeys","keys","item","index","styles","container","name","StyleSheet","create","flex","borderWidth","borderRadius","margin","padding","height","justifyContent"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity, SafeAreaView } from \"react-native\";\nimport firebase from \"firebase\";\nimport UniversityAddForm from \"./UniversityAddForm\";\nimport EducationAddForm from \"./EducationAddForm\";\n\nexport default function UniversitiesList ({navigation}){\n    const [universities, setUniversities] = useState();\n\n    useEffect(() => {\n        if(!universities) {\n            firebase\n                .database()\n                .ref('/Universities')\n                .on('value', snapshot => {\n                    setUniversities(snapshot.val())\n                });\n        }\n    },[]);\n\n    if(!universities){\n        return(\n            <View>\n                <Text>Opret et universitet:</Text>\n                <UniversityAddForm/>\n            </View>\n        )\n    }\n\n    const handleSelectCar = async id => {\n        const university = Object.entries(universities).find(university => university[0] === id);\n        await navigation.navigate('Universities Educations', { university });\n    }\n\n    const universitiesArray = Object.values(universities);\n    const universitiesKeys = Object.keys(universities);\n\n    return (\n        <SafeAreaView>\n            <FlatList\n                data={universitiesArray}\n                keyExtractor={(item, index) => universitiesKeys[index]}\n                renderItem={({ item, index }) => {\n                    return(\n                        <TouchableOpacity style={styles.container} onPress={() => handleSelectCar(universitiesKeys[index])}>\n                            <Text>\n                                {item.name}\n                            </Text>\n                        </TouchableOpacity>\n                    )\n                }}\n            />\n            <UniversityAddForm/>\n        </SafeAreaView>\n\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        borderWidth: 1,\n        borderRadius:10,\n        margin: 5,\n        padding: 5,\n        height: 50,\n        justifyContent:'center'\n    },\n});"]},"metadata":{},"sourceType":"module"}