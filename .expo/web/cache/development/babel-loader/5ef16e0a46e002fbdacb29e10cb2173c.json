{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/philipvanburleigh/Desktop/oblioevelse2/components/PostsList.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport firebase from \"firebase\";\nimport PostsAddForm from \"./PostsAddForm\";\nexport default function PostsList(_ref) {\n  var _this = this;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  useEffect(function () {\n    if (!posts) {\n      firebase.database().ref('/Posts').orderByChild('educationId').equalTo(route.params.education[0]).on('value', function (snapshot) {\n        setPosts(snapshot.val());\n      });\n    }\n  }, []);\n  console.log(route.params.education);\n  var addForm = React.createElement(PostsAddForm, {\n    educationId: route.params.education[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 21\n    }\n  });\n\n  if (!posts) {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }, \"Opret et post:\"), addForm);\n  }\n\n  var handleSelectPost = function handleSelectPost(id) {\n    var education;\n    return _regeneratorRuntime.async(function handleSelectPost$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            education = Object.entries(posts).find(function (post) {\n              return post[0] === id;\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var postsArray = Object.values(posts);\n  var postsKeys = Object.keys(posts);\n  return React.createElement(SafeAreaView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: postsArray,\n    keyExtractor: function keyExtractor(item, index) {\n      return postsKeys[index];\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n      return React.createElement(TouchableOpacity, {\n        style: styles.container,\n        onPress: function onPress() {\n          return handleSelectPost(postsKeys[index]);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }\n      }, item.title), React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 29\n        }\n      }, item.content));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), addForm);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderWidth: 1,\n    borderRadius: 10,\n    margin: 5,\n    padding: 5,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/philipvanburleigh/Desktop/oblioevelse2/components/PostsList.js"],"names":["React","useState","useEffect","firebase","PostsAddForm","PostsList","route","navigation","posts","setPosts","database","ref","orderByChild","equalTo","params","education","on","snapshot","val","console","log","addForm","handleSelectPost","id","Object","entries","find","post","postsArray","values","postsKeys","keys","item","index","styles","container","title","content","StyleSheet","create","flex","borderWidth","borderRadius","margin","padding","height","justifyContent"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity, SafeAreaView } from \"react-native\";\nimport firebase from \"firebase\";\nimport PostsAddForm from \"./PostsAddForm\";\n\nexport default function PostsList ({route,navigation}){\n    const [posts, setPosts] = useState();\n    useEffect(() => {\n        if(!posts) {\n            firebase\n                .database()\n                .ref('/Posts')\n                .orderByChild('educationId')\n                .equalTo(route.params.education[0])\n                .on('value', snapshot => {\n                    setPosts(snapshot.val())\n                });\n        }\n    },[]);\n    console.log(route.params.education)\n    const addForm = <PostsAddForm educationId={route.params.education[0]}/>\n\n    if(!posts){\n        return (\n            <View>\n                <Text>Opret et post:</Text>\n                {addForm}\n            </View>\n        )\n    }\n\n    const handleSelectPost = async id => {\n        const education = Object.entries(posts).find(post => post[0] === id);\n        //await navigation.navigate('Car Details', { car });\n    }\n\n    const postsArray = Object.values(posts);\n    const postsKeys = Object.keys(posts);\n\n    return (\n        <SafeAreaView>\n            <FlatList\n                data={postsArray}\n                keyExtractor={(item, index) => postsKeys[index]}\n                renderItem={({ item, index }) => {\n                    return(\n                        <TouchableOpacity style={styles.container} onPress={() => handleSelectPost(postsKeys[index])}>\n                            <Text>\n                                {item.title}\n                            </Text>\n                            <Text>\n                                {item.content}\n                            </Text>\n                        </TouchableOpacity>\n                    )\n                }}\n            />\n            {addForm}\n        </SafeAreaView>\n\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        borderWidth: 1,\n        borderRadius:10,\n        margin: 5,\n        padding: 5,\n        height: 50,\n        justifyContent:'center'\n    },\n});"]},"metadata":{},"sourceType":"module"}