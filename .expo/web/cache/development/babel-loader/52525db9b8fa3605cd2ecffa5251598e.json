{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/philipvanburleigh/Desktop/oblioevelse2/components/EducationsList.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport firebase from \"firebase\";\nimport EducationAddForm from \"./EducationAddForm.js\";\nexport default function EducationsList(_ref) {\n  var _this = this;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      educations = _useState2[0],\n      setEducations = _useState2[1];\n\n  useEffect(function () {\n    if (!educations) {\n      firebase.database().ref('/Educations').orderByChild('universityId').equalTo(route.params.university[0]).on('value', function (snapshot) {\n        setEducations(snapshot.val());\n      });\n    }\n  }, []);\n  var addForm = React.createElement(EducationAddForm, {\n    universityId: route.params.university[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 21\n    }\n  });\n\n  if (!educations) {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, \"Opret en uddannelse:\"), addForm);\n  }\n\n  var handleSelectEducation = function handleSelectEducation(id) {\n    var education;\n    return _regeneratorRuntime.async(function handleSelectEducation$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            education = Object.entries(educations).find(function (education) {\n              return education[0] === id;\n            });\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(navigation.navigate('Posts', {\n              education: education\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var educationsArray = Object.values(educations);\n  var educationsKeys = Object.keys(educations);\n  return React.createElement(SafeAreaView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: educationsArray,\n    keyExtractor: function keyExtractor(item, index) {\n      return educationsKeys[index];\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n      return React.createElement(TouchableOpacity, {\n        style: styles.container,\n        onPress: function onPress() {\n          return handleSelectEducation(educationsKeys[index]);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }\n      }, item.name));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), addForm);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderWidth: 1,\n    borderRadius: 10,\n    margin: 5,\n    padding: 5,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/philipvanburleigh/Desktop/oblioevelse2/components/EducationsList.js"],"names":["React","useState","useEffect","firebase","EducationAddForm","EducationsList","route","navigation","educations","setEducations","database","ref","orderByChild","equalTo","params","university","on","snapshot","val","addForm","handleSelectEducation","id","education","Object","entries","find","navigate","educationsArray","values","educationsKeys","keys","item","index","styles","container","name","StyleSheet","create","flex","borderWidth","borderRadius","margin","padding","height","justifyContent"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity, SafeAreaView } from \"react-native\";\nimport firebase from \"firebase\";\nimport EducationAddForm from \"./EducationAddForm.js\";\n\nexport default function EducationsList ({route,navigation}){\n    const [educations, setEducations] = useState();\n\n    useEffect(() => {\n        if(!educations) {\n            firebase\n                .database()\n                .ref('/Educations')\n                .orderByChild('universityId')\n                .equalTo(route.params.university[0])\n                .on('value', snapshot => {\n                    setEducations(snapshot.val())\n                });\n        }\n    },[]);\n\n\n    const addForm = <EducationAddForm universityId={route.params.university[0]}/>\n\n    if(!educations){\n        return (\n            <View>\n                <Text>Opret en uddannelse:</Text>\n                {addForm}\n            </View>\n        )\n    }\n\n    const handleSelectEducation = async id => {\n        const education = Object.entries(educations).find(education => education[0] === id);\n        await navigation.navigate('Posts', { education });\n    }\n\n    const educationsArray = Object.values(educations);\n    const educationsKeys = Object.keys(educations);\n\n    return (\n        <SafeAreaView>\n            <FlatList\n                data={educationsArray}\n                keyExtractor={(item, index) => educationsKeys[index]}\n                renderItem={({ item, index }) => {\n                    return(\n                        <TouchableOpacity style={styles.container} onPress={() => handleSelectEducation(educationsKeys[index])}>\n                            <Text>\n                                {item.name}\n                            </Text>\n                        </TouchableOpacity>\n                    )\n                }}\n            />\n            {addForm}\n        </SafeAreaView>\n\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        borderWidth: 1,\n        borderRadius:10,\n        margin: 5,\n        padding: 5,\n        height: 50,\n        justifyContent:'center'\n    },\n});"]},"metadata":{},"sourceType":"module"}