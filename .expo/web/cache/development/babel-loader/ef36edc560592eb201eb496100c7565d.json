{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport firebase from \"firebase\";\nexport default function addUniversity(university) {\n  return new Promise(function _callee(resolve, reject) {\n    var validator;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            validator = Object.entries(university).find(function (prop) {\n              return !prop[1].length;\n            });\n\n            if (!validator) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", reject({\n              message: 'Alle felter skal udfyldes!'\n            }));\n\n          case 3:\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(firebase.database().ref(\"/Universities/\").push(_objectSpread({}, university)));\n\n          case 6:\n            return _context.abrupt(\"return\", resolve());\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](3);\n            console.log(_context.t0);\n            return _context.abrupt(\"return\", reject(\"Error: \" + _context.t0.message));\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 9]], Promise);\n  });\n}","map":{"version":3,"sources":["/Users/philipvanburleigh/Desktop/oblioevelse2/components/dbFunctions/University.js"],"names":["firebase","addUniversity","university","Promise","resolve","reject","validator","Object","entries","find","prop","length","message","database","ref","push","console","log"],"mappings":";;;;;;;AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,eAAe,SAASC,aAAT,CAAuBC,UAAvB,EAAkC;AAC7C,SAAO,IAAIC,OAAJ,CAAY,iBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAETC,YAAAA,SAFS,GAEGC,MAAM,CAACC,OAAP,CAAeN,UAAf,EAA2BO,IAA3B,CAAgC,UAAAC,IAAI;AAAA,qBAAI,CAACA,IAAI,CAAC,CAAD,CAAJ,CAAQC,MAAb;AAAA,aAApC,CAFH;;AAAA,iBAGXL,SAHW;AAAA;AAAA;AAAA;;AAAA,6CAIJD,MAAM,CAAC;AAACO,cAAAA,OAAO,EAAC;AAAT,aAAD,CAJF;;AAAA;AAAA;AAAA;AAAA,6CAOLZ,QAAQ,CACTa,QADC,GAEDC,GAFC,mBAGDC,IAHC,mBAGQb,UAHR,EAPK;;AAAA;AAAA,6CAWJE,OAAO,EAXH;;AAAA;AAAA;AAAA;AAaXY,YAAAA,OAAO,CAACC,GAAR;AAbW,6CAcJZ,MAAM,aAAW,YAAMO,OAAjB,CAdF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAZ,CAAP;AAiBH","sourcesContent":["import firebase from \"firebase\";\n\nexport default function addUniversity(university){\n    return new Promise(async (resolve, reject) => {\n\n        const validator = Object.entries(university).find(prop => !prop[1].length)\n        if (validator){\n            return reject({message:'Alle felter skal udfyldes!'})\n        }\n        try {\n            await firebase\n                .database()\n                .ref(`/Universities/`)\n                .push({...university});\n            return resolve();\n        } catch (error) {\n            console.log(error);\n            return reject(`Error: ${error.message}`);\n        }\n    })\n}"]},"metadata":{},"sourceType":"module"}